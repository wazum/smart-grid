<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SmartGrid Demo</title>
    <link rel="stylesheet" href="./dist/smart-grid.css" />
    <style>
      * { box-sizing: border-box; }
      body {
        font-family: system-ui, sans-serif;
        margin: 0;
        padding: 2rem;
        line-height: 1.5;
        color: #1e293b;
        max-width: 1200px;
        margin-inline: auto;
      }
      h1 { border-bottom: 2px solid #e2e8f0; padding-bottom: 1rem; }
      h2 { margin-top: 3rem; color: #334155; }
      h3 { margin-top: 2rem; font-size: 1rem; color: #64748b; }
      p { color: #64748b; }
      code { background: #f1f5f9; padding: 0.125rem 0.375rem; border-radius: 0.25rem; font-size: 0.875em; }
      smart-grid { --smart-grid-gap: 1rem; margin-bottom: 1.5rem; }
      .card {
        background: #f0f4f8;
        padding: 1.5rem;
        border-radius: 0.5rem;
        text-align: center;
      }
      .card h4 { margin: 0 0 0.5rem; font-size: 1rem; }
      .card p { margin: 0; font-size: 0.875rem; }
      .card.featured {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        color: white;
      }
      .card.featured p { color: rgba(255,255,255,0.8); }
      .card.orphan {
        border: 2px dashed #94a3b8;
      }
      hr { border: none; border-top: 1px solid #e2e8f0; margin: 3rem 0; }
      footer { margin-top: 3rem; padding-top: 1.5rem; border-top: 1px solid #e2e8f0; color: #94a3b8; font-size: 0.875rem; }
      footer a { color: #3b82f6; }
    </style>
  </head>
  <body>
    <h1>SmartGrid</h1>
    <p>Intelligent CSS Grid layouts with auto-rebalancing for orphan rows.</p>

    <h2>Auto-Rebalancing</h2>
    <p>4 items in 3-column grid automatically rebalances to 2×2:</p>
    <smart-grid columns="3">
      <div class="card"><h4>Card 1</h4><p>First item</p></div>
      <div class="card"><h4>Card 2</h4><p>Second item</p></div>
      <div class="card"><h4>Card 3</h4><p>Third item</p></div>
      <div class="card"><h4>Card 4</h4><p>Fourth item</p></div>
    </smart-grid>

    <h2>Smart Distribution</h2>
    <p>7 items in 3-column grid distributes as 3+2+2 (not 3+3+1):</p>
    <smart-grid columns="3">
      <div class="card"><h4>Card 1</h4><p>Row 1</p></div>
      <div class="card"><h4>Card 2</h4><p>Row 1</p></div>
      <div class="card"><h4>Card 3</h4><p>Row 1</p></div>
      <div class="card orphan"><h4>Card 4</h4><p>Row 2</p></div>
      <div class="card orphan"><h4>Card 5</h4><p>Row 2</p></div>
      <div class="card orphan"><h4>Card 6</h4><p>Row 3</p></div>
      <div class="card orphan"><h4>Card 7</h4><p>Row 3</p></div>
    </smart-grid>

    <p><strong>10 items:</strong> 3+3+2+2</p>
    <smart-grid columns="3">
      <div class="card"><h4>1</h4></div>
      <div class="card"><h4>2</h4></div>
      <div class="card"><h4>3</h4></div>
      <div class="card"><h4>4</h4></div>
      <div class="card"><h4>5</h4></div>
      <div class="card"><h4>6</h4></div>
      <div class="card orphan"><h4>7</h4></div>
      <div class="card orphan"><h4>8</h4></div>
      <div class="card orphan"><h4>9</h4></div>
      <div class="card orphan"><h4>10</h4></div>
    </smart-grid>

    <hr>

    <h2>Balance Modes</h2>
    <p>Controls whether SmartGrid rebalances items to avoid single orphans. <strong>Compare with 4 items:</strong></p>

    <h3>balance="auto" (default)</h3>
    <p>Rebalances 4 items from 3+1 to 2+2 to avoid single orphan:</p>
    <smart-grid columns="3">
      <div class="card"><h4>Card 1</h4></div>
      <div class="card"><h4>Card 2</h4></div>
      <div class="card"><h4>Card 3</h4></div>
      <div class="card"><h4>Card 4</h4></div>
    </smart-grid>

    <h3>balance="expand"</h3>
    <p>No rebalancing. Single orphan expands to fill the row:</p>
    <smart-grid columns="3" balance="expand">
      <div class="card"><h4>Card 1</h4></div>
      <div class="card"><h4>Card 2</h4></div>
      <div class="card"><h4>Card 3</h4></div>
      <div class="card orphan"><h4>Card 4</h4><p>Expands to full width!</p></div>
    </smart-grid>

    <h3>balance="preserve"</h3>
    <p>No rebalancing. Single orphan keeps original width (empty space on right):</p>
    <smart-grid columns="3" balance="preserve">
      <div class="card"><h4>Card 1</h4></div>
      <div class="card"><h4>Card 2</h4></div>
      <div class="card"><h4>Card 3</h4></div>
      <div class="card orphan"><h4>Card 4</h4><p>Stays at 1/3 width</p></div>
    </smart-grid>

    <hr>

    <h2>Orphan Modes (with balance="auto")</h2>
    <p>When smart distribution creates varying row sizes (like 7 items → 3+2+2), this controls whether smaller rows expand. <em>Only applies when balance="auto".</em></p>

    <h3>orphans="expand" (default)</h3>
    <p>Items in 2-item rows expand wider than 3-item row items:</p>
    <smart-grid columns="3" orphans="expand">
      <div class="card"><h4>Card 1</h4></div>
      <div class="card"><h4>Card 2</h4></div>
      <div class="card"><h4>Card 3</h4></div>
      <div class="card orphan"><h4>Card 4</h4><p>Wider</p></div>
      <div class="card orphan"><h4>Card 5</h4><p>Wider</p></div>
      <div class="card orphan"><h4>Card 6</h4><p>Wider</p></div>
      <div class="card orphan"><h4>Card 7</h4><p>Wider</p></div>
    </smart-grid>

    <h3>orphans="fixed"</h3>
    <p>All items maintain the same width (empty space on right of partial rows):</p>
    <smart-grid columns="3" orphans="fixed">
      <div class="card"><h4>Card 1</h4></div>
      <div class="card"><h4>Card 2</h4></div>
      <div class="card"><h4>Card 3</h4></div>
      <div class="card orphan"><h4>Card 4</h4><p>Same width</p></div>
      <div class="card orphan"><h4>Card 5</h4><p>Same width</p></div>
      <div class="card orphan"><h4>Card 6</h4><p>Same width</p></div>
      <div class="card orphan"><h4>Card 7</h4><p>Same width</p></div>
    </smart-grid>

    <hr>

    <h2>Variable Item Sizes</h2>
    <p>Use <code>data-size</code> attribute for multi-column items:</p>
    <smart-grid columns="4">
      <div class="card featured" data-size="2">
        <h4>Featured</h4>
        <p>data-size="2"</p>
      </div>
      <div class="card"><h4>Regular</h4></div>
      <div class="card"><h4>Regular</h4></div>
      <div class="card featured" data-size="3">
        <h4>Wide Content</h4>
        <p>data-size="3"</p>
      </div>
      <div class="card"><h4>Regular</h4></div>
      <div class="card"><h4>Regular</h4></div>
      <div class="card"><h4>Regular</h4></div>
      <div class="card"><h4>Regular</h4></div>
    </smart-grid>

    <h3>Semantic sizes</h3>
    <p>Use <code>small</code>, <code>medium</code>, <code>large</code> (maps to 1, 2, 3 columns):</p>
    <smart-grid columns="6" style="--smart-grid-min-width: 100px;">
      <div class="card" data-size="small"><h4>Small</h4><p>1 col</p></div>
      <div class="card" data-size="medium"><h4>Medium</h4><p>2 cols</p></div>
      <div class="card" data-size="large"><h4>Large</h4><p>3 cols</p></div>
    </smart-grid>

    <hr>

    <h2>Responsive Min-Width</h2>
    <p>Use <code>--smart-grid-min-width: 25ch</code> for text-based layouts:</p>
    <smart-grid columns="3" style="--smart-grid-min-width: 25ch;">
      <div class="card">
        <h4>Getting Started</h4>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore.</p>
      </div>
      <div class="card">
        <h4>Configuration</h4>
        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla.</p>
      </div>
      <div class="card">
        <h4>API Reference</h4>
        <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo.</p>
      </div>
      <div class="card">
        <h4>Examples</h4>
        <p>Curabitur pretium tincidunt lacus. Nulla gravida orci a odio.</p>
      </div>
      <div class="card">
        <h4>FAQ</h4>
        <p>Nullam varius, turpis et commodo pharetra, est eros bibendum elit.</p>
      </div>
    </smart-grid>

    <footer>
      <p><a href="https://github.com/wazum/smart-grid">View on GitHub</a></p>
    </footer>

    <script type="module" src="./dist/smart-grid.js"></script>
  </body>
</html>
